"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[462],{2036:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"playground","title":"Playground","description":"","source":"@site/docs/playground.mdx","sourceDirName":".","slug":"/playground","permalink":"/react-snow-overlay/docs/playground","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"title":"Playground","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Props","permalink":"/react-snow-overlay/docs/props"},"next":{"title":"Mount + Unmount test","permalink":"/react-snow-overlay/docs/mount-unmount-test"}}');var o=n(5723),a=n(681),s=n(4436);const i={title:"Playground",sidebar_position:3},l="Playground",c={},d=[];function u(e){const t={h1:"h1",header:"header",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"playground",children:"Playground"})}),"\n",(0,o.jsx)(s.Q,{showCode:!0})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},4436:(e,t,n)=>{n.d(t,{Q:()=>m});var r=n(1901),o=n(5165),a=n(8061),s=n(3137),i=n(5051),l=n(7225),c=n(3952),d=n(864),u=n(2155),h=n(840),f=n(5723);const m=e=>{let{showCode:t}=e;const[n,m]=(0,u.useState)(h.XD),[p]=(0,d.o)(n,100),y=(0,u.useMemo)((()=>{const e=Object.keys(p).map((e=>p[e]==h.XD[e]?null:"object"==typeof p[e]?`${e}={${JSON.stringify(p[e],null,2)}}`:"string"==typeof p[e]?`${e}="${p[e]}"`:`${e}={${p[e]}}`)).filter(Boolean).join(" ");return`import { SnowOverlay } from 'react-snow-overlay';\n    \n<SnowOverlay ${e}${e.length?" ":""}/>`}),[p]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(h.ou,{...p}),(0,f.jsx)("div",{style:{maxWidth:"min(100%, 464px)"},children:(0,f.jsxs)(o.s,{direction:"column",gap:"sm",maw:444,children:[(0,f.jsx)(a.Q,{allowNegative:!1,allowDecimal:!1,label:"Particle count",description:"The maximum number of snow particles displayed on the screen at once. Note: High values may cause performance issues.",value:n.maxParticles,onChange:e=>m((t=>({...t,maxParticles:Number(e)})))}),(0,f.jsx)(s.A,{format:"rgba",label:"Color",description:"Color of snow particles",placeholder:h.XD.color,value:n.color,onChange:e=>m((t=>({...t,color:e})))}),(0,f.jsx)(i.l,{label:"Particle speed",description:"How fast snow falls down the screen",data:Object.keys(h.gc),value:n.speed,onChange:e=>m((t=>({...t,speed:e})))}),(0,f.jsx)(l.$,{mt:"lg",onClick:()=>m(h.XD),variant:"light",children:"Reset"}),t&&(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.c,{my:"xl"}),(0,f.jsx)(r.q,{language:"tsx",code:y,highlightOnClient:!0})]})]})})]})}},840:(e,t,n)=>{n.d(t,{XD:()=>f,gc:()=>m,ou:()=>j});var r,o,a,s=n(5723),i=n(2155),l=e=>{throw TypeError(e)},c=(e,t,n)=>t.has(e)||l("Cannot "+n),d=(e,t,n)=>(c(e,t,"read from private field"),n?n.call(e):t.get(e)),u=(e,t,n)=>t.has(e)?l("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),h=(e,t,n)=>(c(e,t,"access private method"),n);const f=Object.freeze({color:"rgba(255, 255, 255, 0.8)",maxParticles:50,speed:"DEFAULT"}),m={DEFAULT:33,FAST:20,FASTER:10},p=2**31-1,y='!function(){"use strict";const t=Object.freeze({color:"rgba(255, 255, 255, 0.8)",maxParticles:50,speed:"DEFAULT"}),e={DEFAULT:33,FAST:20,FASTER:10};let a,r,n,o={...t},i=0,s=-1/0,c=null,h=!1;self.onmessage=m=>{const{data:f}=m;if(0===f.type)r=f.canvas,n=r.getContext("2d"),r.width=f.width,r.height=f.height,o={...t,...f.options},a=Array.from({length:o.maxParticles},l);else if((t=>1===t.type)(f))r.width=f.width,r.height=f.height;else if((t=>3===t.type)(f)){const{type:t,...e}=f;o={...o,...e.options},d(o.maxParticles)}else{if((t=>2===t.type)(f)){h=!0;const{width:t,height:e}=n.canvas;return n.clearRect(0,0,t,e),void(c&&cancelAnimationFrame(c))}(t=>4===t.type)(f)&&(h=!1)}const y=()=>{const t="object"==typeof(r=o.speed)?r.msBetweenUpdates:e[r];var r;if(performance.now()-s<t)return void(c=requestAnimationFrame(y));const{width:d,height:l}=n.canvas;n.clearRect(0,0,d,l),n.fillStyle=o.color,n.beginPath();for(let e=0;e<o.maxParticles;e++){const t=a[e];n.moveTo(t.x,t.y),n.arc(t.x,t.y,t.r,0,2*Math.PI,!0)}n.fill(),i=(i+.01)%360;for(let e=0;e<o.maxParticles;e++){const t=a[e];if(t.y+=Math.cos(i+t.d)+1+t.r/2,t.x+=2*Math.sin(i),t.x>d+5||t.x<-5||t.y>l)if(e%3>0)a[e]={x:Math.random()*d,y:-10,r:t.r,d:t.d};else{const r=Math.random()*d;Math.sin(i)>0?a[e]={x:-5-r,y:Math.random()*l,r:t.r,d:t.d}:a[e]={x:d+5+r,y:Math.random()*l,r:t.r,d:t.d}}}s=performance.now(),h||(c=requestAnimationFrame(y))};c&&cancelAnimationFrame(c),h||requestAnimationFrame(y)};const d=t=>{const e=a.length;if(t!==e)return t<e?a.splice(t,e-t):void a.push(...Array.from({length:t-e},l))},l=()=>({x:Math.random()*r.width,y:Math.random()*-r.height,r:4*Math.random()+1,d:Math.random()*o.maxParticles})}();\n',w="undefined"!=typeof self&&self.Blob&&new Blob([y],{type:"text/javascript;charset=utf-8"});function g(e){let t;try{if(t=w&&(self.URL||self.webkitURL).createObjectURL(w),!t)throw"";const n=new Worker(t,{name:null==e?void 0:e.name});return n.addEventListener("error",(()=>{(self.URL||self.webkitURL).revokeObjectURL(t)})),n}catch(n){return new Worker("data:text/javascript;charset=utf-8,"+encodeURIComponent(y),{name:null==e?void 0:e.name})}finally{t&&(self.URL||self.webkitURL).revokeObjectURL(t)}}var v=(e=>(e[e.INIT=0]="INIT",e[e.UPDATE_SIZE=1]="UPDATE_SIZE",e[e.STOP=2]="STOP",e[e.UPDATE_OPTIONS=3]="UPDATE_OPTIONS",e[e.RESUME=4]="RESUME",e))(v||{});class x{constructor(e){var t,n,a,s;u(this,o),u(this,r),a=e,c(t=this,n=r,"write to private field"),s?s.call(t,a):n.set(t,a)}init(e){h(this,o,a).call(this,{...e,type:v.INIT},[e.canvas])}updateSize(e){h(this,o,a).call(this,{...e,type:v.UPDATE_SIZE})}stop(){h(this,o,a).call(this,{type:v.STOP})}resume(){h(this,o,a).call(this,{type:v.RESUME})}updateOptions(e){h(this,o,a).call(this,{...e,type:v.UPDATE_OPTIONS})}terminate(){d(this,r).terminate()}}r=new WeakMap,o=new WeakSet,a=function(e,t){d(this,r).postMessage(e,{transfer:t})};const b=(e,t)=>{if(e===t)return!0;if(null===e||null===t||"object"!=typeof e||"object"!=typeof t)return!1;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&!n.some((n=>!r.includes(n)||!b(e[n],t[n])))},j=(0,i.memo)((function(e){let{zIndex:t=p,disabled:n,disabledOnSingleCpuDevices:r,...o}=e;const a=(0,i.useRef)(null),l=(0,i.useRef)(null),c=(0,i.useRef)(null),[d,u]=(0,i.useReducer)((()=>!0),!1),h=((e,t)=>{const n=(0,i.useRef)(null);return n.current&&b(t,n.current.key)||(n.current={key:t,value:e()}),n.current.value})((()=>o),[o]),f=((e,t)=>{const n=(0,i.useRef)(null),r=(0,i.useCallback)((function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];null!==n.current&&clearTimeout(n.current),n.current=window.setTimeout((()=>{e(...o)}),t)}),[e,t]);return(0,i.useEffect)((()=>()=>{null!==n.current&&clearTimeout(n.current)})),r})((()=>{var e;if("undefined"!=typeof window&&(null==(e=a.current)?void 0:e.transferControlToOffscreen)){if(l.current??(l.current=a.current.transferControlToOffscreen()),!c.current){c.current=new x(new g),u();const e=l.current;return c.current.init({canvas:e,width:window.innerWidth,height:window.innerHeight,options:h})}c.current.updateSize({width:window.innerWidth,height:window.innerHeight})}}),50);(0,i.useEffect)((()=>(f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f))),[f]);const m=(0,i.useMemo)((()=>{const e=Boolean(n),t=r&&"undefined"!=typeof navigator&&1===navigator.hardwareConcurrency;return e||t}),[r,n]);return(0,i.useEffect)((()=>{if(d&&l.current&&c.current)return m?c.current.stop():void c.current.updateOptions({options:h})}),[m,h,d]),(0,i.useEffect)((()=>{var e;null==(e=c.current)||e[m?"stop":"resume"]()}),[m]),(0,i.useEffect)((()=>{var e;return null==(e=c.current)?void 0:e.terminate}),[]),(0,s.jsx)("canvas",{"aria-hidden":"true",ref:a,style:{zIndex:t,pointerEvents:"none",userSelect:"none",position:"fixed",top:0,right:0,bottom:0,left:0,...m&&{display:"none"}}})}))}}]);